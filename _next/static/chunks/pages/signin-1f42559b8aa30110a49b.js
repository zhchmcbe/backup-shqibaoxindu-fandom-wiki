(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[176],{1404:function(e,t,i){"use strict";i.d(t,{Z:function(){return h}});var n=i(2809),r=i(266),o=i(219),s=i(318),a=i(809),c=i.n(a),l=i(7294),u=i(259),d=i(2021),p=i(5784),f=(i(2604),i(5893)),m=["action","captchaEnabled"];function g(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function b(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?g(Object(i),!0).forEach((function(t){(0,n.Z)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):g(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function h(e){var t=(0,u.xX)().executeRecaptcha,i=l.useState(""),n=(0,s.Z)(i,2),a=n[0],g=n[1],h=e.action,j=e.captchaEnabled,_=(0,o.Z)(e,m),w=l.useCallback((0,r.Z)(c().mark((function e(){var i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(j&&t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,t(h);case 4:(i=e.sent)&&g(i);case 6:case"end":return e.stop()}}),e)}))),[t,h,g,j]);return l.useEffect((function(){w()}),[w]),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(d.Z,{id:"captcha_token",type:"hidden",value:a}),(0,f.jsx)(p.Z,b(b({},_),{},{disabled:e.disabled||j&&!a,children:e.children}))]})}},1364:function(e,t,i){"use strict";var n,r;!function(e){e.start="auth.start",e.start_login="auth.login_start",e.start_registration="auth.registration_start",e.complete_login="auth.login_complete",e.complete_registration="auth.registration_complete"}(n||(n={})),function(e){e.login="login",e.registration="registration"}(r||(r={})),t.ZP=n},1792:function(e,t,i){"use strict";i.r(t),i.d(t,{__N_SSP:function(){return q},default:function(){return A}});var n=i(7294),r=i(2809),o=i(318),s=i(5199),a=i(3967),c=i.n(a),l=i(1664),u=i(7220),d=i.n(u),p=i(5893),f=function(e,t){return"en"===t?"https://www.fandom.com/".concat(e):"https://www.fandom.com/".concat(t,"/").concat(e,"-").concat(t)},m=function(){var e=(0,s.$G)().i18n;return(0,p.jsx)("div",{className:d().termsOfUse,id:"termsOfUse",children:(0,p.jsxs)(s.cC,{i18nKey:"terms-of-use",children:["By creating an account, you agree to",(0,p.jsx)("a",{className:d().url,href:f("terms-of-use",e.language),target:"_blank",rel:"noreferrer","data-test":"terms-of-use-link",children:"FANDOM's Terms of Use"}),"and",(0,p.jsx)("a",{className:d().url,href:f("privacy-policy",e.language),target:"_blank",rel:"noreferrer","data-test":"privacy-policy-link",children:"Privacy Policy"})]})})},g=i(3323),b=i(4294),h=i(2021),j=i(1898),_=i(644),w=i(1590),v=i(8763),y=i(1404),O=i(4518),k=i(1364),x=i(25),P=i(5248),Z=i(2381),S=i(3602);function E(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}var N=function(e){var t=[],i={facebook:null,apple:null,google:null,twitch:null},n={identifier:void 0,password:void 0,submit:void 0},o={totp_code:void 0,totp_submit:void 0,lookup_secret:void 0,lookup_submit:void 0},s=[];return e.forEach((function(e){var a=e.attributes,c=(0,S.Z)(e);if("hidden"===a.type){if(t.push(c),"identifier"==a.name){var l=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?E(Object(i),!0).forEach((function(t){(0,r.Z)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):E(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},c);l.disabled=!0,n.identifier=l}}else"oidc"===e.group&&Object.keys(i).includes(a.value)?i[a.value]=c:["password","default"].includes(e.group)&&Object.keys(n).includes(a.name)?n[a.name]=c:"password"===e.group&&"password_identifier"===a.name?n.identifier=c:"password"===e.group&&"submit"===a.type?n.submit=c:"totp"===e.group&&"totp_code"===a.name?o.totp_code=c:"totp"===e.group&&"submit"===a.type?o.totp_submit=c:"lookup_secret"===e.group&&"lookup_secret"===a.name?o.lookup_secret=c:"lookup_secret"===e.group&&"submit"===a.type?o.lookup_submit=c:s.push(e)})),s.length,Object.keys(n).filter((function(e){return!n[e]})).length,n.password||n.identifier||n.submit||(n.identifier={disabled:!0,id:"identifier",name:"identifier",node_type:"input",type:"hidden",label:"identifier"},n.password={disabled:!0,id:"password",label:"Password",name:"password",node_type:"input",required:!0,type:"password"},n.submit={disabled:!0,id:"method",label:"Sign in",name:"method",node_type:"input",type:"submit",value:"password"}),{hidden:t,oidc:i,password:n,totp:o}},C=i(7184),T=i.n(C);function D(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function U(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?D(Object(i),!0).forEach((function(t){(0,r.Z)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):D(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var B=function(e){var t,i,a=e.uiContainer,u=e.displayGenericError,d=e.isActiveSession,f=e.backButtonUrl,S=e.registerLink,E=e.useCaptcha,C=e.isRefresh,D=e.loginTranslationKey,B=N(a.nodes),F=(0,s.$G)().t,M=n.useState({password:B.password.password.value||"",identifier:(0,Z.Z)(null===(t=B.password.identifier)||void 0===t?void 0:t.value)||""}),G=(0,o.Z)(M,2),L=G[0],R=G[1],W=n.useState(""),q=(0,o.Z)(W,2),A=q[0],I=q[1],K=n.useState(!1),V=(0,o.Z)(K,2),Y=V[0],J=V[1];n.useEffect((function(){(0,x.es)(a,u,P.bd.signin)}),[a,u]);var X=function(e,t){var i=t.currentTarget.name,n=["password_identifier","identifier"].includes(i),o=n?"identifier":t.currentTarget.name;document.activeElement!==t.currentTarget&&n&&(e=(0,Z.Z)(e)),R(U(U({},L),{},(0,r.Z)({},o,e)))},$=function(){(0,x.DY)(P.bd.signin,P.dC.submit),(0,x.PR)(k.ZP.start)},z=B.password.submit.disabled||!L.password||!C&&!L.identifier||Y,H=(D?F(D)+" ":"")+F("login-subtitle");return(0,p.jsx)(g.Z,{backButtonText:F("back-button"),backButtonUrl:f,title:F(d?"login-reauthorization-title":"login-title"),subtitle:d?F("login-reauthorization-subtitle"):(0,p.jsx)(l.default,{href:S,children:(0,p.jsx)("a",{dangerouslySetInnerHTML:{__html:H},"data-test":"signin-registration-link"})}),children:(0,p.jsxs)("div",{className:T().formWrapper,children:[(0,p.jsxs)("form",{method:a.method,action:a.action,className:T().form,onSubmit:function(){J(!0)},children:[B.hidden.map((function(e){return(0,p.jsx)(h.Z,U({},e),e.id)})),(0,p.jsxs)("section",{className:c()(T().section,T().multipleSection),children:[(0,p.jsx)(h.Z,{id:"method",type:"hidden",value:"password"}),(0,p.jsx)("h6",{className:T().sectionTitle,children:F("login-with-email")}),u&&(0,p.jsx)(w.Z,{errors:[F("generic-login-error")]}),B.password.identifier&&(0,p.jsx)(v.Z,U(U({},B.password.identifier),{},{label:F("login-username-input-label"),onInput:function(e){var t=(0,Z.Z)(e.target.value);I(t)},onChange:X,onBlur:function(e){A&&(e.target.value=A,R(U(U({},L),{},(0,r.Z)({},B.password.identifier.id,A))))},value:L.identifier,required:!1,"data-test":"signin-username-field",autoFocus:!0})),B.password.password&&(0,p.jsx)(_.Z,U(U({},B.password.password),{},{label:F("login-password-input-label"),bottomAction:(0,p.jsx)(l.default,{href:"/reset-password?source=signin&redirect=".concat(f),children:(0,p.jsx)("a",{"data-test":"signin-forgot-password-link",children:F("login-forgot-password")})}),onChange:X,value:L.password,required:!1,"data-test":"signin-password-field"})),B.password.submit&&(0,p.jsx)(y.Z,U(U({},B.password.submit),{},{label:F("login-sign-in"),onClick:function(){(0,x.DY)(P.bd.signin,P.dC.submit),(0,x.PR)(k.ZP.start_login)},disabled:z,captchaEnabled:E,"data-test":"signin-password-submit","data-tracking":P.p8.signinMethodPassword})),!d&&(0,p.jsx)(m,{}),!(null===(i=a.messages)||void 0===i||!i.length)&&(0,p.jsx)(w.Z,{errors:(0,w.L)(a.messages)})]})]}),(0,p.jsx)(b.Z,{}),(0,p.jsxs)("form",{method:a.method,action:a.action,className:T().form,children:[B.hidden.map((function(e){return(0,p.jsx)(h.Z,U({},e),e.id)})),(0,p.jsxs)("section",{className:c()(T().section,T().multipleSection),children:[(0,p.jsx)("h6",{className:c()(T().sectionTitle,T().sectionSocialTitle),children:F("login-with-social-account")}),O.L.map((function(e){return B.oidc[e]&&(0,n.createElement)(j.Z,U(U({},B.oidc[e]),{},{key:e,provider:e,onClick:$,"data-test":"signin-auth-provider-button-".concat(e),"data-tracking":"".concat(P.p8.signinMethodProvider).concat(e)}))}))]})]})]})})},F=i(298),M=i.n(F),G=i(5784);function L(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function R(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?L(Object(i),!0).forEach((function(t){(0,r.Z)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):L(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var W=function(e){var t,i,r,o=e.uiContainer,a=e.displayGenericError,l=e.backButtonUrl,u=N(o.nodes),d=(0,s.$G)().t,f=(0,n.useState)(""),m=f[0],j=f[1],_=(0,n.useState)(""),y=_[0],O=_[1],k=(0,n.useState)(!1),Z=k[0],S=k[1],E=(0,n.useState)(!1),C=E[0],D=E[1];(0,n.useEffect)((function(){(0,x.es)(o,a,P.bd.signin)}),[o,a]);var U=(0,x.DY)(P.bd.signin,P.dC.submit),B=function(){S(!0),D(!0)},F=(null===(t=u.totp.totp_submit)||void 0===t?void 0:t.disabled)||m.trim().length<6||Z,L=(null===(i=u.totp.lookup_submit)||void 0===i?void 0:i.disabled)||""===y.trim()||C;return(0,p.jsxs)(g.Z,{backButtonText:d("back-button"),backButtonUrl:l,title:d("login-mfa-title"),subtitle:d("login-mfa-subtitle"),children:[(0,p.jsxs)("section",{className:c()(T().section),children:[(0,p.jsxs)("form",{method:o.method,action:o.action,className:T().mfaForm,onSubmit:B,children:[u.hidden.map((function(e){return(0,p.jsx)(h.Z,R({},e),e.id)})),(0,p.jsx)(h.Z,{id:"method",type:"hidden",value:"totp"}),(0,p.jsx)("h6",{className:T().sectionTitle,children:d("login-mfa-with-totp")}),(0,p.jsx)("div",{className:T().sectionMessage,children:d("login-mfa-with-totp-description")}),a&&(0,p.jsx)(w.Z,{errors:[d("generic-login-error")]}),u.totp.totp_code&&(0,p.jsx)(v.Z,R(R({},u.totp.totp_code),{},{autoComplete:"off",label:d("login-mfa-totp-code-input-label"),onChange:function(e){j(e)},value:m,required:!1,"data-test":"signin-mfa-code-field",autoFocus:!0})),u.totp.totp_submit&&(0,p.jsx)(G.Z,R(R({},u.totp.totp_submit),{},{label:d("login-mfa-totp"),onClick:U,disabled:F,"data-test":"signin-mfa-totp-submit","data-tracking":P.p8.signinTotp}))]}),u.totp.totp_code&&u.totp.lookup_secret&&(0,p.jsx)("div",{className:T().sectionSeparatorWrapper,children:(0,p.jsx)(b.Z,{showInDesktop:!0})})]}),(0,p.jsx)("section",{className:c()(T().section),children:(0,p.jsxs)("form",{method:o.method,action:o.action,className:T().mfaForm,onSubmit:B,children:[u.hidden.map((function(e){return(0,p.jsx)(h.Z,R({},e),e.id)})),(0,p.jsx)(h.Z,{id:"method",type:"hidden",value:"lookup_secret"}),u.totp.lookup_secret&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("h6",{className:T().sectionTitle,children:d("login-mfa-with-lookup-secret")}),(0,p.jsx)("div",{className:T().sectionMessage,children:d("login-mfa-with-lookup-secret-description")}),(0,p.jsx)(v.Z,R(R({},u.totp.lookup_secret),{},{autoComplete:"off",label:d("login-mfa-lookup-secret-input-label"),onChange:function(e){O(e)},value:y,required:!1,"data-test":"signin-mfa-lookup-secret-field"}))]}),u.totp.lookup_submit&&(0,p.jsx)(G.Z,R(R({},u.totp.lookup_submit),{},{label:d("login-mfa-lookup-secret"),onClick:U,disabled:L,"data-test":"login-mfa-lookup-secret-submit","data-tracking":P.p8.signinSecretCode})),(0,p.jsx)(M(),{className:c()(T().logoutButton),id:"mfa-logout",href:"/logout","data-test":"signin-mfa-logout",secondary:!0,children:d("login-mfa-logout")}),!(null===(r=o.messages)||void 0===r||!r.length)&&(0,p.jsx)(w.Z,{errors:(0,w.L)(o.messages)})]})})]})};var q=!0,A=function(e){var t=e.uiWrapper,i=e.displayGenericError,n=e.isActiveSession,r=e.backButtonUrl,o=e.registerLink,s=e.mfaView,a=e.useCaptcha,c=e.isRefresh,l=e.loginTranslationKey;return s?(0,p.jsx)(W,{uiContainer:t.ui,displayGenericError:i,backButtonUrl:r}):(0,p.jsx)(B,{uiContainer:t.ui,displayGenericError:i,isActiveSession:n,backButtonUrl:r,registerLink:o,useCaptcha:a,isRefresh:c,loginTranslationKey:l})}},2339:function(e,t,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/signin",function(){return i(1792)}])},7220:function(e){e.exports={termsOfUse:"TermsOfUse_termsOfUse__1RIJw"}},7184:function(e){e.exports={sectionTitle:"login_sectionTitle__1q029",messageForm:"login_messageForm__1LVjM",form:"login_form__3RtLp",mfaForm:"login_mfaForm__1JUOR",formWrapper:"login_formWrapper__IMoai",logoutButton:"login_logoutButton__2weGV",sectionSubTitle:"login_sectionSubTitle__l-V-j",sectionMessage:"login_sectionMessage__jlaUM",sectionSeparatorWrapper:"login_sectionSeparatorWrapper__3ei5u",multipleSection:"login_multipleSection__3GlJg",sectionSocialTitle:"login_sectionSocialTitle__5eE4c",section:"login_section__d11WY"}}},function(e){e.O(0,[474,372,774,888,179],(function(){return t=2339,e(e.s=t);var t}));var t=e.O();_N_E=t}]);