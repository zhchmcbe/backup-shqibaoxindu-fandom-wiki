import{i as o,a as t,b as i,d as e,c as n}from"./MobileGlobalNavigationTracking-BbbrCMIj.js";import{_ as a,a as s}from"./tslib.es6-DQsD9AwJ.js";import{g as l}from"./getUnreadNotificationsTotal-enLNdzbr.js";import{e as r}from"./events-D9QL1ZrV.js";import{E as c}from"./consts-eR6kglzq.js";import"./_create_class-qTAYELnC.js";import"./dropdowns-DTtMfVlr.js";import"./tracking-Bcq7w0Z_.js";import"./style-inject.es-DDA6_zrG.js";var d;function m(){return m=a((function(){var o,t,i,e,n;return s(this,(function(a){switch(a.label){case 0:return t=document.querySelector(".mobile-global-navigation"),i=document.querySelector(".mobile-notifications"),t&&i?(e=i.querySelector(".mobile-notifications__toggle"),[4,l()]):[2];case 1:return(n=a.sent())&&(null==e||e.classList.add("has-unread-notifications")),null===(o=t.querySelector(".mobile-global-navigation__button-close"))||void 0===o||o.addEventListener("click",(function(){return window.dispatchEvent(new CustomEvent("NotificationsModalClosed"))})),null==e||e.addEventListener("click",(function(){var o=document.createElement("div");o.classList.add("mobile-notifications-modal","mobile-global-navigation__modal"),null==i||i.append(o),u(),import("./initMobileNotifications-CMZKpJky.js").then((function(o){var t=o.default;d&&d(),d=t(i,n)}))}),{once:!0}),null==e||e.classList.add("is-ready"),[2]}}))})),m.apply(this,arguments)}function u(){var o;null===(o=document.querySelector(".mobile-global-navigation"))||void 0===o||o.classList.add("is-modal-opened"),document.body.classList.add("wds-no-scroll")}function b(){var o;null===(o=document.querySelector(".mobile-global-navigation"))||void 0===o||o.classList.remove("is-modal-opened"),document.body.classList.remove("wds-no-scroll")}r.on(c.mobileGlobalNavRendered,(function(){o(),t(),function(){m.apply(this,arguments)}(),i()})),r.on(c.mobileGlobalNavDestroyed,(function(){e(),d&&d(),n()}));export{b as c,u as o};
